<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#202020"/>
  
    <meta name="keywords" content="kafka,命令行,参考手册" />
  

    
    <meta name="description" content="kafka官方命令行手册" />
  
  
  


  
  <title>kafka | Cheat Sheets</title>
  
    <link rel="icon" href="/img/favicon.min.webp">
  
  
<link rel="stylesheet" href="/css/bundle.css">
<link rel="stylesheet" href="/css/main.css">

  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-H58NSPXYPF"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'G-H58NSPXYPF');
  </script>
  <script>
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i+"?ref=bwt";
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "9nz5jukf69");
  </script>
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
    <nav class='top-nav' data-js-no-preview role='navigation'>
  <div class='container'>
    <div class='left'>
      
      <a class='home back-button' href='/'></a>
      
    </div>

    <div class='actions'>
      <ul class='page-actions'>
        <li class='link github -button hint--bottom' data-hint='Contribute to CheatSheets'>
          <a target="_blank" rel="noopener" href='https://github.com/holmofy/cs.hufeifei.cn'>
            <span class='text -visible'>Contribute to CheatSheets</span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>
  <div id="container">
    <div id="wrap">
      <div class="outer">
        <section id="main"><article id="post-kafka" class="article article-type-post" itemscope
  itemprop="blogPost">
  <div class='body-area'>
    <header class='main-heading -center' role='banner'>
      <h1 class='h1'> kafka <em></em></h1>
    </header>

    <main class='post-content MarkdownBody' data-js-main-body data-js-anchors role='main'>
      <h2 id="get-started"><a href="#get-started" class="headerlink" title="get started"></a>get started</h2><p>参考: </p>
<ul>
<li><a target="_blank" rel="noopener" href="https://docs.confluent.io/platform/current/kafka/post-deployment.html">https://docs.confluent.io/platform/current/kafka/post-deployment.html</a></li>
</ul>
<h3 id="start-kafka-broker"><a href="#start-kafka-broker" class="headerlink" title="start kafka-broker"></a>start kafka-broker</h3><pre><code class="language-bash">bin/kafka-server-start.sh -daemon config/server.properties
</code></pre>
<h3 id="start-kafka-connect"><a href="#start-kafka-connect" class="headerlink" title="start kafka-connect"></a>start kafka-connect</h3><pre><code class="language-bash">bin/connect-standalone.sh -daemon \
    config/connect-standalone.properties \
    config/debezium-mysql.properties
</code></pre>
<h3 id="list-topic"><a href="#list-topic" class="headerlink" title="list topic"></a>list topic</h3><pre><code class="language-bash">bin/kafka-topics.sh --zookeeper localhost:2181 \
    --list
# Use kafka-broker instead of zookeeper. Same below
bin/kafka-topics.sh --bootstrap-server &lt;kafkahost:port&gt; \
    --list
</code></pre>
<h3 id="desc-topic"><a href="#desc-topic" class="headerlink" title="desc topic"></a>desc topic</h3><pre><code class="language-bash">bin/kafka-topics.sh --bootstrap-server &lt;kafkahost:port&gt; \
    --topic $1 \
    --describe
</code></pre>
<h3 id="create-topic"><a href="#create-topic" class="headerlink" title="create topic"></a>create topic</h3><pre><code class="language-bash">bin/kafka-topics.sh --bootstrap-server &lt;kafkahost:port&gt; \
    --topic $1 \
    --partitions $2 \
    --create
</code></pre>
<h3 id="remove-topic"><a href="#remove-topic" class="headerlink" title="remove topic"></a>remove topic</h3><pre><code class="language-bash">bin/kafka-topics.sh --bootstrap-server &lt;kafkahost:port&gt; \
    --topic $1 \
    --delete
</code></pre>
<h3 id="produce-msg-to-topic"><a href="#produce-msg-to-topic" class="headerlink" title="produce msg to topic"></a>produce msg to topic</h3><pre><code class="language-bash">echo &quot;msg&quot; | bin/kafka-console-producer.sh \
    --bootstrap-server &lt;kafkahost:port&gt; \
    --topic $1
</code></pre>
<h3 id="consume-msg-from-topic"><a href="#consume-msg-from-topic" class="headerlink" title="consume msg from topic"></a>consume msg from topic</h3><pre><code class="language-bash">bin/kafka-console-consumer.sh --bootstrap-server &lt;kafkahost:port&gt; \
    --topic $1 --from-beginning --property print.timestamp=true
</code></pre>
<h3 id="search-msg-from-topic"><a href="#search-msg-from-topic" class="headerlink" title="search msg from topic"></a>search msg from topic</h3><pre><code class="language-bash">bin/kafka-console-consumer.sh --bootstrap-server &lt;kafkahost:port&gt; \
    --topic $1 --from-beginning | grep $2
</code></pre>
<h3 id="describe-consumer-group"><a href="#describe-consumer-group" class="headerlink" title="describe consumer group"></a>describe consumer group</h3><pre><code class="language-bash">bin/kafka-consumer-groups.sh --bootstrap-server &lt;kafkahost:port&gt; \
    --group $1 \
    --describe
</code></pre>
<h3 id="reset-consumer-offset-for-topic"><a href="#reset-consumer-offset-for-topic" class="headerlink" title="reset consumer offset for topic"></a>reset consumer offset for topic</h3><pre><code class="language-bash"># preview
bin/kafka-consumer-groups --bootstrap-server &lt;kafkahost:port&gt; \
    --group &lt;group_id&gt; \
    --topic &lt;topic_name&gt; \
    --reset-offsets --to-earliest
# execute
bin/kafka-consumer-groups --bootstrap-server &lt;kafkahost:port&gt; \
    --group &lt;group_id&gt; \
    --topic &lt;topic_name&gt; \
    --reset-offsets \
    --to-earliest \
    --execute
</code></pre>
<p>other resetting options, run kafka-consumer-groups for details</p>
<ul>
<li>–shift-by <positive_or_negative_integer></li>
<li>–to-current</li>
<li>–to-latest</li>
<li>–to-offset <offset_integer></li>
<li>–to-datetime <datetime_string></li>
<li>–by-duration <duration_string></li>
</ul>
<h3 id="producer-performance"><a href="#producer-performance" class="headerlink" title="producer performance"></a>producer performance</h3><pre><code class="language-bash">bin/kafka-producer-perf-test.sh --bootstrap-server &lt;kafkahost:port&gt; \
    --topic &lt;topic&gt; \
    --num-records &lt;msg-count&gt; \
    --record-size &lt;record-bytes&gt; \
    --throughput &lt;messages/sec&gt; \
    --producer.config &lt;producer-config-file&gt;
</code></pre>
<h3 id="consumer-performance"><a href="#consumer-performance" class="headerlink" title="consumer performance"></a>consumer performance</h3><pre><code class="language-bash">bin/kafka-consumer-perf-test.sh --bootstrap-server &lt;kafkahost:port&gt; \
    --topic &lt;topic&gt; \
    --messages &lt;msg-count&gt; \
    --group &lt;gid:default:perf-consumer-49221&gt; \
    --fetch-size &lt;fetch-size:default:1048576&gt; \
    --date-format &lt;timestamp-format:default:yyyy-MM-dd HH:mm:ss:SSS&gt; \
    --consumer.config &lt;consumer-config-file&gt; \
    --from-latest
</code></pre>

    </main>
  </div>

  <div id="/kafka/" class='pre-footer leancloud_visitors' data-flag-title="kafka" data-js-no-preview>
    <i class='icon'></i>
    <p class="leancloud-visitors-count" style="margin-top: 0;"></p>
  </div>

</article>

  <div id="vcomments" style="max-width: 1232px;margin: 0 auto;"></div>
  <script>
      window.addEventListener('load', function () {
          new Valine({"el":"#vcomments","enable":true,"appId":"1G4BM5BM5FWY8sHttxI7RzmK-gzGzoHsz","appKey":"HpeTK86qFg08p2i329bvg2os","notify":false,"verify":false,"pageSize":10,"avatar":"mm","lang":"zh-cn","placeholder":"Just go go","visitor":true,"recordIP":true});
      });
  </script>

<script src="https://cdn.jsdelivr.net/npm/prismjs@1.17.1/prism.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.17.1/plugins/autoloader/prism-autoloader.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.17.1/plugins/keep-markup/prism-keep-markup.min.js"></script>

<script src="/js/article.js"></script>

</section>
      </div>
    </div>                
    <!-- <nav id="mobile-nav">
  
</nav> -->
    <!-- 

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>





 -->
  </div>

</body>
</html>